<h2 class="theme-question-color" data-ng-bind-html="question.text | nl2br" data-ng-if="!!question.text"></h2>
<picture class="main-media-image"
  data-ng-if="!!currentQuestion.mainMedia()"
  data-ng-class="{'no-transform': !question.imageData, 'transform': question.imageData}"
  data-ng-init="mainMediaImgWidth = question.imageData.width < 100 ? question.imageData.width : 100 "
>
  <img data-ng-style="{
      'width': mainMediaImgWidth + '%',
      'left' : (question.imageData.left > 0 ? question.imageData.left : 0) + '%',
      'top'  : (question.imageData.top  > 0 ? question.imageData.top  : 0) + '%'
    }"
    data-ng-src="{{ getMainImgUrl( currentQuestion.mainMedia().src, 620, '1.0' ) }}" 
    data-ng-srcset="{{ getMainImgUrl( currentQuestion.mainMedia().src, 620, '1.0' ) }},
                    {{ getMainImgUrl( currentQuestion.mainMedia().src, 620, '1.5' ) }} 1.5x,
                    {{ getMainImgUrl( currentQuestion.mainMedia().src, 620, '2.0' ) }} 2.0x"
  >
  <img class="placeholder"
    data-ng-style="{'width': mainMediaImgWidth + '%'}"
    data-ng-src="{{ getMainImgUrl( currentQuestion.mainMedia().src, 620, '1.0' ) }}" 
    data-ng-srcset="{{ getMainImgUrl( currentQuestion.mainMedia().src, 620, '1.0' ) }},
                    {{ getMainImgUrl( currentQuestion.mainMedia().src, 620, '1.5' ) }} 1.5x,
                    {{ getMainImgUrl( currentQuestion.mainMedia().src, 620, '2.0' ) }} 2.0x"
  >
</picture>
<form action="" name="form" class="form" formnovalidate>
  <fieldset>
    <div class="form__field" data-ng-repeat="input in question.forms.inputs">
      <label for="{{input._id}}" data-ng-bind="input.label"></label>
      <input type="email" placeholder="{{input.label}}" name="{{input._id}}" data-ng-if="input.type=='email'" data-ng-model="questionAnswer.status[input._id]"  formnovalidate ng-required="!!currentQuestion.requiredAnswer">

      <input type="text" placeholder="{{input.label}}" name="{{input._id}}" data-ng-if="input.type=='text'"  data-ng-model="questionAnswer.status[input._id]" formnovalidate ng-required="!!currentQuestion.requiredAnswer">
      
      <input type="text" placeholder="{{input.label}}" name="{{input._id}}" data-ng-if="input.type=='phone'" data-ng-model="questionAnswer.status[input._id]" formnovalidate ng-required="!!currentQuestion.requiredAnswer">
      
      <input type="url" placeholder="{{input.label}}" name="{{input._id}}" data-ng-if="input.type=='url'" data-ng-model="questionAnswer.status[input._id]" formnovalidate ng-required="!!currentQuestion.requiredAnswer">
    
      <textarea name="{{input._id}}" id="" cols="30" rows="10" data-ng-if="input.type=='textarea'" placeholder="{{input.label}}" data-ng-model="questionAnswer.status[input._id]" formnovalidate ng-required="!!currentQuestion.requiredAnswer"></textarea>

      <div data-ng-messages="form[input._id].$error" data-ng-messages-multiple class="message text-right">
        <div data-ng-message="required">
          This field is required
        </div>
        <div data-ng-message="email">
          Your field has an invalid email address
        </div>
        <div data-ng-message="number">
          Only numbers
        </div>
        <div data-ng-message="url">
          Your field has a invalid url address
        </div>
      </div>
    </div>
    <input type="text" name="form" data-ng-model="questionAnswer.form" data-ng-init="questionAnswer.form=form" /> 
  </fieldset>
  <div class="hint">
    <i class="fa fa-info-circle"></i>&nbsp;<span>Type your answer above. Press next to continue.</span>
  </div>
</form>